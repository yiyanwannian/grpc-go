# gRPC-Go é¡¹ç›®æ¶æ„åˆ†ææ–‡æ¡£

## ğŸ“š æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£é›†åˆæä¾›äº† gRPC-Go é¡¹ç›®çš„å…¨é¢æ¶æ„åˆ†æï¼Œæ¶µç›–äº†ä»æ•´ä½“è®¾è®¡åˆ°å…·ä½“æ¨¡å—å®ç°çš„è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ã€‚æ¯ä¸ªæ–‡æ¡£éƒ½æ·±å…¥åˆ†æäº†ç›¸åº”æ¨¡å—çš„è®¾è®¡ç†å¿µã€æ ¸å¿ƒå®ç°ã€ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µã€‚

## ğŸ—‚ï¸ æ–‡æ¡£ç›®å½•

### 1. æ•´ä½“æ¶æ„
- **[æ¶æ„æ¦‚è§ˆ](architecture-overview.md)** - gRPC-Go é¡¹ç›®çš„æ•´ä½“æ¶æ„è®¾è®¡å’Œæ¨¡å—åˆ’åˆ†
- **[æ•´ä½“æ¶æ„å›¾](grpc-go-architecture.puml)** - PlantUML æ ¼å¼çš„åŸºç¡€æ¶æ„å›¾
- **[å…¨é¢ç³»ç»Ÿæ¶æ„å›¾](grpc-go-comprehensive-architecture.puml)** - å®Œæ•´çš„åˆ†å±‚æ¶æ„ä¸è®¾è®¡æ¨¡å¼åˆ†æ

### 2. æ ¸å¿ƒç»„ä»¶

#### å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯
- **[å®¢æˆ·ç«¯è¿æ¥ç®¡ç†](client-connection.md)** - ClientConn çš„è®¾è®¡ä¸å®ç°
  - **[æ¶æ„å›¾](modules-client-connection-architecture.puml)** - å®¢æˆ·ç«¯è¿æ¥ç®¡ç†æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-client-connection-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°
- **[æœåŠ¡ç«¯å®ç°](server-implementation.md)** - gRPC Server çš„æ¶æ„ä¸åŠŸèƒ½
  - **[æ¶æ„å›¾](modules-server-implementation-architecture.puml)** - æœåŠ¡ç«¯å®ç°æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-server-implementation-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°

#### ç½‘ç»œå’Œä¼ è¾“
- **[ä¼ è¾“å±‚å®ç°](transport-layer.md)** - HTTP/2 ä¼ è¾“å±‚çš„æ·±åº¦åˆ†æ
  - **[æ¶æ„å›¾](modules-transport-layer-architecture.puml)** - ä¼ è¾“å±‚å®ç°æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-transport-layer-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°
- **[è´Ÿè½½å‡è¡¡æœºåˆ¶](load-balancing.md)** - è´Ÿè½½å‡è¡¡ç­–ç•¥ä¸å®ç°
  - **[æ¶æ„å›¾](modules-load-balancing-architecture.puml)** - è´Ÿè½½å‡è¡¡æœºåˆ¶æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-load-balancing-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°
- **[æœåŠ¡å‘ç°ç³»ç»Ÿ](service-discovery.md)** - Resolver ç³»ç»Ÿçš„è®¾è®¡ä¸ä½¿ç”¨
  - **[æ¶æ„å›¾](modules-service-discovery-architecture.puml)** - æœåŠ¡å‘ç°ç³»ç»Ÿæ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-service-discovery-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°

#### å®‰å…¨å’Œå…ƒæ•°æ®
- **[è®¤è¯æˆæƒç³»ç»Ÿ](authentication-authorization.md)** - å®‰å…¨æœºåˆ¶çš„å®Œæ•´åˆ†æ
  - **[æ¶æ„å›¾](modules-authentication-authorization-architecture.puml)** - è®¤è¯æˆæƒç³»ç»Ÿæ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-authentication-authorization-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°
- **[å…ƒæ•°æ®å¤„ç†](metadata-handling.md)** - å…ƒæ•°æ®ä¼ æ’­ä¸ç®¡ç†
  - **[æ¶æ„å›¾](modules-metadata-handling-architecture.puml)** - å…ƒæ•°æ®å¤„ç†æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-metadata-handling-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°

### 3. ä¸­é—´ä»¶å’Œå¤„ç†æœºåˆ¶
- **[æ‹¦æˆªå™¨æœºåˆ¶](interceptor-system.md)** - ä¸­é—´ä»¶ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°
  - **[æ¶æ„å›¾](modules-interceptor-system-architecture.puml)** - æ‹¦æˆªå™¨æœºåˆ¶æ¶æ„å›¾
- **[çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†](status-error-handling.md)** - é”™è¯¯å¤„ç†æœºåˆ¶åˆ†æ
  - **[æ¶æ„å›¾](modules-status-error-handling-architecture.puml)** - çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†æ¶æ„å›¾

### 4. ç¼–ç å’Œåºåˆ—åŒ–
- **[ç¼–ç è§£ç ç³»ç»Ÿ](encoding-system.md)** - æ¶ˆæ¯åºåˆ—åŒ–ä¸å‹ç¼©
  - **[æ¶æ„å›¾](modules-encoding-system-architecture.puml)** - ç¼–ç è§£ç ç³»ç»Ÿæ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-encoding-system-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°

### 5. æ‰©å±•åŠŸèƒ½ï¼ˆè§„åˆ’ä¸­ï¼‰
- **å¥åº·æ£€æŸ¥æœåŠ¡** - æœåŠ¡å¥åº·ç›‘æ§
- **æœåŠ¡åå°„æœºåˆ¶** - åŠ¨æ€æœåŠ¡å‘ç°
- **å¯è§‚æµ‹æ€§ç³»ç»Ÿ** - Channelz ç›‘æ§ä¸è°ƒè¯•
- **xDS åè®®æ”¯æŒ** - æœåŠ¡ç½‘æ ¼é›†æˆ

## ğŸ¯ æ–‡æ¡£ç‰¹è‰²

### ğŸ“– æ·±åº¦åˆ†æ
- **æ¶æ„è®¾è®¡ç†å¿µ** - åˆ†æè®¾è®¡å†³ç­–å’Œæƒè¡¡è€ƒè™‘
- **æ ¸å¿ƒå®ç°é€»è¾‘** - æ·±å…¥æºç è§£æå…³é”®ç®—æ³•
- **æ¥å£å’ŒæŠ½è±¡** - è¯¦ç»†è¯´æ˜æ ¸å¿ƒæ¥å£è®¾è®¡
- **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥** - åˆ†ææ€§èƒ½ä¼˜åŒ–æŠ€æœ¯

### ğŸ”§ å®ç”¨æŒ‡å¯¼
- **ä½¿ç”¨ç¤ºä¾‹** - æä¾›å®Œæ•´çš„ä»£ç ç¤ºä¾‹
- **æœ€ä½³å®è·µ** - æ€»ç»“ç”Ÿäº§ç¯å¢ƒç»éªŒ
- **é…ç½®ä¼˜åŒ–** - æ¨èçš„é…ç½®å‚æ•°
- **é”™è¯¯å¤„ç†** - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ğŸ“Š å¯è§†åŒ–å±•ç¤º
- **æ¶æ„å›¾è¡¨** - ä½¿ç”¨ Mermaid å’Œ PlantUML ç»˜åˆ¶
- **æµç¨‹å›¾** - æ¸…æ™°å±•ç¤ºäº¤äº’æµç¨‹
- **çŠ¶æ€å›¾** - æè¿°ç»„ä»¶çŠ¶æ€å˜åŒ–
- **æ—¶åºå›¾** - å±•ç¤ºè°ƒç”¨æ—¶åºå…³ç³»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ¨èé˜…è¯»é¡ºåº

1. **åˆå­¦è€…è·¯å¾„**
   ```
   æ¶æ„æ¦‚è§ˆ â†’ å®¢æˆ·ç«¯è¿æ¥ç®¡ç† â†’ æœåŠ¡ç«¯å®ç° â†’ ä¼ è¾“å±‚å®ç°
   ```

2. **è¿›é˜¶å¼€å‘è€…è·¯å¾„**
   ```
   è´Ÿè½½å‡è¡¡æœºåˆ¶ â†’ æœåŠ¡å‘ç°ç³»ç»Ÿ â†’ æ‹¦æˆªå™¨æœºåˆ¶ â†’ çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†
   ```

3. **æ¶æ„å¸ˆè·¯å¾„**
   ```
   æ¶æ„æ¦‚è§ˆ â†’ æ¶æ„å›¾ â†’ æ‰€æœ‰æ ¸å¿ƒç»„ä»¶æ–‡æ¡£
   ```

### æ–‡æ¡£ä½¿ç”¨å»ºè®®

- **ç†è®ºç»“åˆå®è·µ** - é˜…è¯»æ–‡æ¡£çš„åŒæ—¶è¿è¡Œç¤ºä¾‹ä»£ç 
- **å¯¹æ¯”æºç ** - ç»“åˆ gRPC-Go æºç åŠ æ·±ç†è§£
- **å®é™…åº”ç”¨** - åœ¨é¡¹ç›®ä¸­åº”ç”¨å­¦åˆ°çš„æœ€ä½³å®è·µ
- **æŒç»­æ›´æ–°** - å…³æ³¨ gRPC-Go çš„ç‰ˆæœ¬æ›´æ–°

## ğŸ” æ–‡æ¡£å¯¼èˆª

### æŒ‰åŠŸèƒ½åˆ†ç±»

#### ğŸŒ ç½‘ç»œé€šä¿¡
- [ä¼ è¾“å±‚å®ç°](transport-layer.md) - HTTP/2 åè®®å®ç°
- [å®¢æˆ·ç«¯è¿æ¥ç®¡ç†](client-connection.md) - è¿æ¥æ± å’ŒçŠ¶æ€ç®¡ç†
- [æœåŠ¡ç«¯å®ç°](server-implementation.md) - æœåŠ¡ç›‘å¬å’Œè¯·æ±‚å¤„ç†

#### âš–ï¸ è´Ÿè½½å‡è¡¡
- [è´Ÿè½½å‡è¡¡æœºåˆ¶](load-balancing.md) - å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥
- [æœåŠ¡å‘ç°ç³»ç»Ÿ](service-discovery.md) - åŠ¨æ€æœåŠ¡ç«¯ç‚¹å‘ç°

#### ğŸ” å®‰å…¨å’Œå…ƒæ•°æ®
- [è®¤è¯æˆæƒç³»ç»Ÿ](authentication-authorization.md) - TLSã€OAuthã€ALTS ç­‰
- [å…ƒæ•°æ®å¤„ç†](metadata-handling.md) - å…ƒæ•°æ®ä¼ æ’­ä¸ç®¡ç†

#### ğŸ”§ ä¸­é—´ä»¶å’Œé”™è¯¯å¤„ç†
- [æ‹¦æˆªå™¨æœºåˆ¶](interceptor-system.md) - ä¸­é—´ä»¶ç³»ç»Ÿè®¾è®¡
  - **[æ¶æ„å›¾](modules-interceptor-system-architecture.puml)** - æ‹¦æˆªå™¨æœºåˆ¶æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-interceptor-system-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°
- [çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†](status-error-handling.md) - é”™è¯¯å¤„ç†æœºåˆ¶
  - **[æ¶æ„å›¾](modules-status-error-handling-architecture.puml)** - çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†æ¶æ„å›¾
  - **[ä»£ç ä½ç½®å›¾](modules-status-error-handling-code-locations.puml)** - ä»£ç å®ç°ä½ç½®æ ‡è®°

#### ğŸ—ï¸ æ¶æ„è®¾è®¡
- [æ¶æ„æ¦‚è§ˆ](architecture-overview.md) - æ•´ä½“è®¾è®¡ç†å¿µ
- [æ¶æ„å›¾](grpc-go-architecture.puml) - å¯è§†åŒ–æ¶æ„å±•ç¤º

### æŒ‰éš¾åº¦åˆ†çº§

#### ğŸŸ¢ åŸºç¡€çº§åˆ«
- æ¶æ„æ¦‚è§ˆ
- å®¢æˆ·ç«¯è¿æ¥ç®¡ç†
- æœåŠ¡ç«¯å®ç°

#### ğŸŸ¡ ä¸­çº§çº§åˆ«
- ä¼ è¾“å±‚å®ç°
- å…ƒæ•°æ®å¤„ç†
- è´Ÿè½½å‡è¡¡æœºåˆ¶
- æ‹¦æˆªå™¨æœºåˆ¶

#### ğŸ”´ é«˜çº§çº§åˆ«
- æœåŠ¡å‘ç°ç³»ç»Ÿ
- è®¤è¯æˆæƒç³»ç»Ÿ
- çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†
- æ¶æ„å›¾åˆ†æ

## ğŸ“ˆ å­¦ä¹ è·¯å¾„å»ºè®®

### 1. gRPC æ–°æ‰‹
```mermaid
graph LR
    A[æ¶æ„æ¦‚è§ˆ] --> B[å®¢æˆ·ç«¯è¿æ¥]
    B --> C[æœåŠ¡ç«¯å®ç°]
    C --> D[åŸºç¡€ç¤ºä¾‹å®è·µ]
```

### 2. æœ‰ç»éªŒå¼€å‘è€…
```mermaid
graph LR
    A[ä¼ è¾“å±‚å®ç°] --> B[è´Ÿè½½å‡è¡¡]
    B --> C[æœåŠ¡å‘ç°]
    C --> D[é«˜çº§ç‰¹æ€§åº”ç”¨]
```

### 3. ç³»ç»Ÿæ¶æ„å¸ˆ
```mermaid
graph LR
    A[å®Œæ•´æ¶æ„åˆ†æ] --> B[æ€§èƒ½ä¼˜åŒ–]
    B --> C[å®‰å…¨è®¾è®¡]
    C --> D[ç”Ÿäº§éƒ¨ç½²]
```

## ğŸ› ï¸ å®è·µå»ºè®®

### ç¯å¢ƒå‡†å¤‡
```bash
# å…‹éš† gRPC-Go æºç 
git clone https://github.com/grpc/grpc-go.git

# å®‰è£…ä¾èµ–
go mod tidy

# è¿è¡Œç¤ºä¾‹
cd examples/helloworld
go run greeter_server/main.go
go run greeter_client/main.go
```

### è°ƒè¯•æŠ€å·§
- å¯ç”¨ gRPC æ—¥å¿—ï¼š`export GRPC_GO_LOG_VERBOSITY_LEVEL=99`
- ä½¿ç”¨ Channelzï¼š`import _ "google.golang.org/grpc/channelz/service"`
- ç½‘ç»œæŠ“åŒ…ï¼šä½¿ç”¨ Wireshark åˆ†æ HTTP/2 æµé‡

## ğŸ“ è´¡çŒ®æŒ‡å—

### æ–‡æ¡£æ”¹è¿›
- å‘ç°é”™è¯¯æˆ–ä¸å‡†ç¡®çš„å†…å®¹
- è¡¥å……ç¼ºå¤±çš„æŠ€æœ¯ç»†èŠ‚
- æä¾›æ›´å¥½çš„ç¤ºä¾‹ä»£ç 
- æ”¹è¿›å›¾è¡¨å’Œå¯è§†åŒ–

### åé¦ˆæ¸ é“
- é€šè¿‡ Issue æŠ¥å‘Šé—®é¢˜
- æäº¤ Pull Request æ”¹è¿›æ–‡æ¡£
- åˆ†äº«ä½¿ç”¨ç»éªŒå’Œæœ€ä½³å®è·µ

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹èµ„æº
- [gRPC å®˜æ–¹æ–‡æ¡£](https://grpc.io/docs/)
- [gRPC-Go GitHub](https://github.com/grpc/grpc-go)
- [Protocol Buffers](https://developers.google.com/protocol-buffers)

### ç›¸å…³æ ‡å‡†
- [HTTP/2 RFC 7540](https://tools.ietf.org/html/rfc7540)
- [gRPC over HTTP/2](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md)
- [gRPC Authentication](https://grpc.io/docs/guides/auth/)

---

**æ³¨æ„**: æœ¬æ–‡æ¡£é›†åˆåŸºäº gRPC-Go çš„å½“å‰ç‰ˆæœ¬è¿›è¡Œåˆ†æï¼Œéšç€é¡¹ç›®çš„å‘å±•ï¼Œéƒ¨åˆ†å†…å®¹å¯èƒ½éœ€è¦æ›´æ–°ã€‚å»ºè®®ç»“åˆæœ€æ–°çš„æºç å’Œå®˜æ–¹æ–‡æ¡£ä½¿ç”¨ã€‚
